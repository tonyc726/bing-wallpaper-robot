<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1" />
    <title>Bing Wallpaper Robot - iTony.net</title>
    <meta name="renderer" content="webkit" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
    <meta http-equiv="cache-control" content="no-transform" />
    <meta http-equiv="cache-control" content="no-siteapp" />
    <meta name="theme-color" content="#f8f5ec" />
    <meta name="msapplication-navbutton-color" content="#f8f5ec" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec" />
    <meta name="author" content="tony" />
    <meta name="description" content="itony's code & life." />
    <meta name="keywords" content="itony,blog" />
    <link rel=canonical href=https://itony.net/><link href=https://itony.net/index.xml rel=alternate
    type=application/rss+xml title="Code & Life"><link href=https://itony.net/index.xml rel=feed
    type=application/rss+xml title="Code & Life"><link rel=apple-touch-icon sizes=180x180
    href=https://itony.net/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32
    href=https://itony.net/favicon-32x32.png><link rel=icon type=image/png sizes=16x16
    href=https://itony.net/favicon-16x16.png><link rel=mask-icon href=https://itony.net/safari-pinned-tab.svg
    color=#5bbad5>

    <link
      rel="stylesheet"
      href="//cdn.jsdelivr.net/combine/npm/purecss/build/base-min.css,npm/purecss/build/grids-min.css"
    />
    <style>
      .container {
        text-align: center;
        width: 60%;
        min-width: 800px;
        margin: 0 auto;
      }
      .wallpaper-title {
      }
      .wallpaper-mirrors {
      }
      .wallpaper-note {
        border-bottom: 1px solid#e0e0e0;
        padding-bottom: 0.83em;
      }
      .wallpaper-list {
        list-style: none;
      }
      .wallpaper-list-item {
        border-bottom: 1px solid #f0f0f0;
        padding-bottom: 35px;
        padding-top: 20px;
      }
      .wallpaper-links {
      }
      .wallpaper-link {
      }
      .wallpaper-thumb {
        display: block;
        margin: 0 auto;
      }
      .wallpaper-thumb-breathed {
        /* IE10、Firefox and Opera，IE9以及更早的版本不支持 */
        animation-name: breath; /* 动画名称 */
        animation-duration: 1.8s; /* 动画时长3秒 */
        animation-timing-function: ease-in-out; /* 动画速度曲线：以低速开始和结束 */
        animation-iteration-count: infinite; /* 播放次数：无限 */

        /* Safari and Chrome */
        -webkit-animation-name: breath; /* 动画名称 */
        -webkit-animation-duration: 1.8s; /* 动画时长3秒 */
        -webkit-animation-timing-function: ease-in-out; /* 动画速度曲线：以低速开始和结束 */
        -webkit-animation-iteration-count: infinite; /* 播放次数：无限 */
      }
      @keyframes breath {
        from {
          opacity: 0.68;
        } /* 动画开始时的不透明度 */
        50% {
          opacity: 1;
        } /* 动画50% 时的不透明度 */
        to {
          opacity: 0.68;
        } /* 动画结束时的不透明度 */
      }

      @-webkit-keyframes breath {
        from {
          opacity: 0.68;
        } /* 动画开始时的不透明度 */
        50% {
          opacity: 1;
        } /* 动画50% 时的不透明度 */
        to {
          opacity: 0.68;
        } /* 动画结束时的不透明度 */
      }
      .footer {
        padding-top: 20px;
        padding-bottom: 35px;
      }
      .back-to-top {
        position: fixed;
        right: 10%;
        bottom: 10%;
        background-color: #1f1f1f;
        color: #fff;
        display: flex;
        height: 50px;
        width: 50px;
        border-radius: 25px;
        align-items: center;
        align-content: center;
        justify-content: center;
        text-decoration: none;
        flex-direction: column;
      }
      .back-to-top-index {
      }
      .back-to-top-count {
        font-size: 12px;
        color: #a0a0a0;
        border-top: 1px solid #d0d0d0;
      }
      .back-to-top-tip {
        display: none;
      }
      .back-to-top:hover .back-to-top-index {
        display: none;
      }
      .back-to-top:hover .back-to-top-count {
        display: none;
      }
      .back-to-top:hover .back-to-top-tip {
        display: block;
      }
    </style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZLJSKEG4Z"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-WZLJSKEG4Z');
    </script>
  </head>
  <body class="container">
    <h1 class="wallpaper-title">
      Bing Wallpaper Robot - <a href="https://github.com/tonyc726/bing-wallpaper-robot">Github</a>
    </h1>
    <h2 class="wallpaper-mirrors">
      <a href="https://tonyc726.github.io/bing-wallpaper-robot">Github.io</a>&nbsp;|&nbsp;<a
        href="https://bing-wallpaper-robot.vercel.app"
        >vercel.app</a
      >&nbsp;|&nbsp;<a href="https://bing-wallpaper-robot.netlify.app">netlify.app</a>
    </h2>
    <h3 class="wallpaper-note">LAST MODIFIED: <span id="wallpaperLastModifiedDate"><%= lastModifiedDate %></span> | COUNT: <%= wallpapers.length %></h3>
    <ul class="wallpaper-list">
      <% wallpapers.forEach(function(wallpaper, wallpaperIndex){ %>
      <li class="wallpaper-list-item">
        <h3>[<%= wallpaper.date %>] - <%= wallpaper.copyright %></h3>
        <p class="wallpaper-links">
          <a
            class="wallpaper-link"
            target="_blank"
            href="https://cn.bing.com/th?id=<%= wallpaper.filename %>_UHD.jpg&rf=LaDigue_UHD.jpg"
            ><%= wallpaper.imagekitFileWidth %>*<%= wallpaper.imagekitFileHeight %></a
          >
          &nbsp;&#124;&nbsp;
          <a
            class="wallpaper-link"
            target="_blank"
            href="https://cn.bing.com/th?id=<%= wallpaper.filename %>_UHD.jpg&rf=LaDigue_UHD.jpg&pid=hp&w=1920&h=1080&rs=1&c=4"
            >1920*1080</a
          >
        </p>
        <img
          class="lazy wallpaper-thumb wallpaper-thumb-breathed"
          alt="<%= wallpaper.filename %>"
          title="<%= wallpaper.copyright %>"
          data-src="https://cn.bing.com/th?id=<%= wallpaper.filename %>_UHD.jpg&w=<%= wallpaper.width %>&c=1"
          data-wallpaper-index="<%= wallpaperIndex %>"
          style="background-color: #<%= wallpaper.dominantColor %>"
          width="<%= wallpaper.width %>"
          height="<%= wallpaper.height %>"
        />
      </li>
      <% }); %>
    </ul>
    <p class="footer">© 2017- 2021 - Made by Tony (<a href="//itony.net">Blog</a>)</p>
    <a href="javascript:void(0)" class="back-to-top" id="backToTop" title="Back To Top">
      <span class="back-to-top-index" id="backToTopIndex">0</span>
      <span class="back-to-top-count"><%= wallpapers.length %></span>
      <span class="back-to-top-tip">TOP</span>
    </a>
    <script>
      var backToTopElement = document.getElementById('backToTop');
      var backToTopIndexElement = document.getElementById('backToTopIndex');

      backToTopElement.addEventListener(
       'click',
       function (e) {
         window.scrollTo({top: 0, behavior: "smooth"});
       },
       false,
     );

      function logElementEvent(eventName, element) {
        console.log(Date.now(), eventName, element.getAttribute('data-src'));
      }

      var callback_enter = function (element) {
        var wallpaperIndex = element.getAttribute('data-wallpaper-index');
        if (wallpaperIndex) {
          backToTopIndexElement.innerHTML = parseInt(wallpaperIndex, 10) + 1;
        }
        logElementEvent('🔑 ENTERED', element);
      };
      // var callback_exit = function (element) {
      //   logElementEvent('🚪 EXITED', element);
      // };
      // var callback_loading = function (element) {
      //   logElementEvent('⌚ LOADING', element);
      // };
      var callback_loaded = function (element) {
        element.className = element.className.replace(
          new RegExp('(?:^|\\s)' + 'wallpaper-thumb-breathed' + '(?:\\s|$)'),
          ' ',
        );
        logElementEvent('👍 LOADED', element);
      };
      var callback_error = function (element) {
        logElementEvent('💀 ERROR', element);
        element.src = 'https://via.placeholder.com/600x388/?text=itony.net';
      };
      // var callback_finish = function () {
      //   logElementEvent('✔️ FINISHED', document.documentElement);
      // };
      // var callback_cancel = function (element) {
      //   logElementEvent('🔥 CANCEL', element);
      // };

      window.lazyLoadOptions = {
        threshold: 0,
        // Assign the callbacks defined above
        callback_enter: callback_enter,
        unobserve_entered: false,
        // unobserve_completed: false,
        // callback_exit: callback_exit,
        // callback_cancel: callback_cancel,
        // callback_loading: callback_loading,
        callback_loaded: callback_loaded,
        callback_error: callback_error,
        // callback_finish: callback_finish,
      };
      window.addEventListener(
        'LazyLoad::Initialized',
        function (e) {
          console.log(e.detail.instance);
        },
        false,
      );
    </script>
    <script src="//cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.min.js" integrity="sha256-sO6HPavoXo796Zp/bq6ts4qHOoEqfydXEXSX5NojP48=" crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/dayjs/dayjs.min.js" integrity="sha256-EfJOqCcshFS/2TxhArURu3Wn8b/XDA4fbPWKSwZ+1B8=" crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/dayjs/plugin/relativeTime.js" crossorigin="anonymous"></script>
    <script>
      var wallpaperLastModifiedDateElement = document.getElementById('wallpaperLastModifiedDate');
      dayjs.extend(dayjs_plugin_relativeTime);
      wallpaperLastModifiedDate.title = dayjs('<%= lastModifiedDate %>').fromNow();
      wallpaperLastModifiedDate.innerHTML = dayjs('<%= lastModifiedDate %>').format('YYYY-MM-DD hh:mm:ss');
    </script>
  </body>
</html>
